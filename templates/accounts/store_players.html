<!DOCTYPE html>
<html lang="pt-br">
  {% load static %}
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Jogadores — DGG's Ultimate Brasileirão Team Menager</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}" />
    <style>
      /* CSS Dinâmico Inspirado em EA FC - Tema Escuro com Toques Coloridos e Gradientes */

/* Variáveis CSS para dinamismo e facilidade de personalização */
:root {
  --primary-bg-start: #0a0a0a; /* Preto profundo para início do gradiente */
  --primary-bg-end: #001a33; /* Azul navy escuro para fim do gradiente */
  --secondary-bg: #001133ff; /* Azul mais escuro para cartões e zonas */
  --accent-color: #00aafffa; /* Azul brilhante para botões e destaques */
  --success-color: #00ff88; /* Verde vibrante para mensagens de sucesso */
  --error-color: #ff4444; /* Vermelho para mensagens de erro */
  --text-color: #e6eef6; /* Branco azulado para texto principal */
  --muted-text: #a0a0a0; /* Cinza para texto secundário */
  --border-color: #333; /* Bordas escuras */
  --hover-bg: rgba(0, 170, 255, 0.1); /* Fundo sutil para hover */
  --card-shadow: 0 4px 8px rgba(0, 0, 0, 0.5); /* Sombras para profundidade */
  --player-card-bg: #001a33; /* Fundo específico para cartões de jogadores */
}

/* Fundo do corpo com gradiente dinâmico */
body {
  font-family: 'Arial', sans-serif; /* Ou uma fonte mais esportiva como 'Roboto Condensed' se disponível */
  margin: 2rem;
  background: linear-gradient(135deg, var(--primary-bg-start) 0%, var(--primary-bg-end) 100%);
  color: var(--text-color);
  min-height: 100vh; /* Garante que o gradiente cubra toda a tela */
  background-attachment: fixed; /* Efeito parallax sutil */
}

/* Container principal */
.container {
  max-width: 1200px; /* Aumentei para acomodar a grade de jogadores */
  margin: 0 auto;
  padding: 20px;
  background: rgba(0, 0, 0, 0.1); /* Overlay sutil para destacar conteúdo */
  border-radius: 12px;
  box-shadow: var(--card-shadow);
}

/* Navegação */
.nav {
  margin-bottom: 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.nav a {
  color: var(--accent-color);
  text-decoration: none;
  font-weight: bold;
  transition: color 0.3s ease;
}

.nav a:hover {
  color: var(--success-color);
}

/* Títulos */
h2, h3 {
  color: var(--accent-color);
  margin-bottom: 20px;
}

/* Botões */
.btn {
  padding: 10px 16px;
  background: var(--accent-color);
  color: #fff;
  border-radius: 8px;
  text-decoration: none;
  border: none;
  cursor: pointer;
  font-weight: bold;
  transition: background 0.3s ease, transform 0.2s ease;
  margin-right: 10px;
}

.btn:hover {
  background: #9cb2bd; /* Azul mais escuro no hover */
  transform: scale(1.05);
}

/* Grade de jogadores */
.players-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 20px;
  margin-bottom: 30px;
}

/* Cartão do jogador */
.player-card {
  background: var(--player-card-bg);
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 15px;
  box-shadow: var(--card-shadow);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  text-align: center;
}

.player-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.7);
}

/* Wrapper da foto do jogador */
.player-photo-wrap {
  position: relative;
  margin-bottom: 10px;
}

/* Foto do jogador */
.player-photo {
  width: 100%;
  height: auto;
  border-radius: 8px;
  border: 2px solid var(--accent-color);
}

/* Badge do overall */
.badge.overall-badge {
  position: absolute;
  bottom: 60px;
  top: 50px;
  left: 8px;
  color: #fff;
  padding: 4px 8px;
  font-weight: bold;
  font-size: 35px;
  
}

/* Abreviação da posição */
.position-abbr {
  position: absolute;
  top: 10px;
  right: 10px;
  background: var(--success-color);
  color: #000;
  padding: 4px 8px;
  border-radius: 4px;
  font-weight: bold;
  font-size: 0.8em;
}

/* Meta da foto (bandeira e escudo) */
.photo-meta {
  position: absolute;
  bottom: 10px;
  left: 10px;
  display: flex;
  gap: 5px;
}

.flag {
  width: 20px;
  height: 15px;
  border-radius: 2px;
}

.club-badge {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  
}

/* Overlay do nome */
.player-name-overlay {
  position: absolute;
  bottom: 130px;
  right: 10px;
  background: rgba(0, 0, 0, 0.14);
  color: var(--text-color);
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 0.8em;
  font-weight: bold;
}

/* Grade de estatísticas */
.stats-grid {
  position: absolute;
  top: 65%;
  left: 30%;
  margin-right: 60px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
  background: rgba(0, 0, 0, 0);
  padding: 8px;
  border-radius: 8px;
  opacity: 1;
  transition: opacity 0.3s ease;
  
}

.player-photo-wrap:hover .stats-grid {
   opacity: 1;
}

.stat-block {
  text-align: center;
  color: var(--text-color);
}

.stat-label {
  font-size: 0.7em;
  color: var(--muted-text);
  margin-bottom: 2px;
}

.stat-value {
  font-weight: bold;
  font-size: 20px;
  color: #00ff88;
}

/* Nome do jogador */
.player-name {
  font-weight: bold;
  color: var(--text-color);
  margin-top: 10px;
}

/* Parágrafos */
p {
  margin-bottom: 15px;
}

/* Responsividade básica */
@media (max-width: 768px) {
  .players-grid {
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 15px;
  }
  .nav {
    flex-direction: column;
    gap: 10px;
  }
  .player-card {
    padding: 10px;
  }
}
    </style>
  </head>
  <body>
    <div class="container">
      <div class="nav">
        <a href="{% url 'home' %}">Home</a> |
        <a href="{% url 'store' %}">Loja</a> |
        <a href="{% url 'matches' %}">Jogos</a> |
        <span style="float: right"><a href="{% url 'logout' %}">Sair</a></span>
      </div>

      <h2>Loja — Jogadores</h2>

      <p>
        <a class="btn" href="{% url 'store' %}">Voltar para Loja</a>
      </p>

      <h3>Jogadores de Campo</h3>
      <div class="players-grid">
        {% for p in field_players %}
        <div class="player-card">
          <div class="player-photo-wrap">
            <!-- a própria imagem da carta -->
            <img
              class="player-photo"
              src="{% static p.photo_path %}"
              alt="{{ p.name }}"
            />

            <div class="badge overall-badge">{{ p.overall }}</div>
            <div class="position-abbr">{{ p.get_position_abbr }}</div>

            <div class="photo-meta">
              {% if p.flag_url %}
              <img class="flag" src="{{ p.flag_url }}" alt="{{ p.country }}" />
              {% endif %} {% if p.club_logo %}
              <img
                class="club-badge"
                src="{% static p.club_logo %}"
                alt="{{ p.club }}"
                onerror="this.style.display='none'"
              />
              {% endif %}
            </div>

            <div class="player-name-overlay">{{ p.name }}</div>
            <div class="stats-grid">
              <div class="stat-block">
                <div class="stat-label">ATK</div>
                <div class="stat-value">{{ p.attack }}</div>
              </div>

              <div class="stat-block">
                <div class="stat-label">DEF</div>
                <div class="stat-value">{{ p.defense }}</div>
              </div>

              <div class="stat-block">
                <div class="stat-label">PASS</div>
                <div class="stat-value">{{ p.passing }}</div>
              </div>

              <div class="stat-block">
                <div class="stat-label">VEL</div>
                <div class="stat-value">{{ p.speed }}</div>
              </div>
            </div>
          </div>
          <div class="player-name">{{ p.name }}</div>
        </div>

        {% empty %}
        <p>Nenhum jogador cadastrado.</p>
        {% endfor %}
      </div>

      <h3>Goleiros</h3>
      <div class="players-grid">
        {% for g in goalkeepers %}
        <div class="player-card">
          <div class="player-photo-wrap">
            <!-- a própria imagem da carta -->
            <img
              class="player-photo"
              src="{% static g.photo_path %}"
              alt="{{ g.name }}"
            />

            <!-- overall, posição -->
            <div class="badge overall-badge">{{ g.overall }}</div>
            <div class="position-abbr">GK</div>

            <!-- bandeira + escudo + textos (empilhados) -->
            <div class="photo-meta">
              {% if g.flag_url %}
              <img class="flag" src="{{ g.flag_url }}" alt="{{ g.country }}" />
              {% endif %} {% if g.club_logo %}
              <img
                class="club-badge"
                src="{% static g.club_logo %}"
                alt="{{ g.club }}"
                onerror="this.style.display='none'"
              />
              {% endif %}
            </div>

            <div class="player-name-overlay">{{ g.name }}</div>
            <div class="stats-grid">
              <div class="stat-block">
                <div class="stat-label">HAND</div>
                <div class="stat-value">{{ g.handling }}</div>
              </div>

              <div class="stat-block">
                <div class="stat-label">POS</div>
                <div class="stat-value">{{ g.positioning }}</div>
              </div>

              <div class="stat-block">
                <div class="stat-label">REF</div>
                <div class="stat-value">{{ g.reflex }}</div>
              </div>

              <div class="stat-block">
                <div class="stat-label">VEL</div>
                <div class="stat-value">{{ g.speed }}</div>
              </div>
            </div>
          </div>
          <div class="player-name">{{ g.name }}</div>
        </div>

        {% empty %}
        <p>Nenhum jogador cadastrado.</p>
        {% endfor %}
      </div>
    </div>
  </body>
</html>
