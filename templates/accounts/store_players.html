<!DOCTYPE html>
<html lang="pt-br">
  {% load static %}
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Loja — Jogadores</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}" />
  </head>
  <body>
    <div class="container">
      <div class="nav">
        <a href="{% url 'home' %}">Home</a> |
        <a href="{% url 'store' %}">Loja</a> |
        <a href="{% url 'matches' %}">Jogos</a> |
        <a href="{% url 'support' %}">Suporte</a>
        <span style="float: right"><a href="{% url 'logout' %}">Sair</a></span>
      </div>

      <h2>Loja — Jogadores</h2>

      <p>
        <a class="btn" href="{% url 'store' %}">Voltar para Loja</a>
      </p>

      <h3>Jogadores de Campo</h3>
      <div class="players-grid">
        {% for p in field_players %}
        <div class="player-card">
          <div class="player-photo-wrap">
            <!-- a própria imagem da carta -->
            <img
              class="player-photo"
              src="{% static p.photo_path %}"
              alt="{{ p.name }}"
            />

            <div class="badge overall-badge">{{ p.overall }}</div>
            <div class="position-abbr">{{ p.get_position_abbr }}</div>

            <div class="photo-meta">
              {% if p.flag_url %}
              <img class="flag" src="{{ p.flag_url }}" alt="{{ p.country }}" />
              {% endif %} {% if p.club_logo %}
              <img
                class="club-badge"
                src="{% static p.club_logo %}"
                alt="{{ p.club }}"
                onerror="this.style.display='none'"
              />
              {% endif %}
            </div>

            <div class="player-name-overlay">{{ p.name }}</div>
            <div class="stats-grid">
              <div class="stat-block">
                <div class="stat-label">ATK</div>
                <div class="stat-value">{{ p.attack }}</div>
              </div>

              <div class="stat-block">
                <div class="stat-label">DEF</div>
                <div class="stat-value">{{ p.defense }}</div>
              </div>

              <div class="stat-block">
                <div class="stat-label">PASS</div>
                <div class="stat-value">{{ p.passing }}</div>
              </div>

              <div class="stat-block">
                <div class="stat-label">VEL</div>
                <div class="stat-value">{{ p.speed }}</div>
              </div>
            </div>
          </div>
          <div class="player-name">{{ p.name }}</div>
        </div>

        {% empty %}
        <p>Nenhum jogador cadastrado.</p>
        {% endfor %}
      </div>

      <h3>Goleiros</h3>
      <div class="players-grid">
        {% for g in goalkeepers %}
        <div class="player-card">
          <div class="player-photo-wrap">
            <!-- a própria imagem da carta -->
            <img
              class="player-photo"
              src="{% static g.photo_path %}"
              alt="{{ g.name }}"
            />

            <!-- overall, posição -->
            <div class="badge overall-badge">{{ g.overall }}</div>
            <div class="position-abbr">GK</div>

            <!-- bandeira + escudo + textos (empilhados) -->
            <div class="photo-meta">
              {% if g.flag_url %}
              <img class="flag" src="{{ g.flag_url }}" alt="{{ g.country }}" />
              {% endif %} {% if g.club_logo %}
              <img
                class="club-badge"
                src="{% static g.club_logo %}"
                alt="{{ g.club }}"
                onerror="this.style.display='none'"
              />
              {% endif %}
            </div>

            <div class="player-name-overlay">{{ g.name }}</div>
            <div class="stats-grid">
              <div class="stat-block">
                <div class="stat-label">HAND</div>
                <div class="stat-value">{{ g.handling }}</div>
              </div>

              <div class="stat-block">
                <div class="stat-label">POS</div>
                <div class="stat-value">{{ g.positioning }}</div>
              </div>

              <div class="stat-block">
                <div class="stat-label">REF</div>
                <div class="stat-value">{{ g.reflex }}</div>
              </div>

              <div class="stat-block">
                <div class="stat-label">VEL</div>
                <div class="stat-value">{{ g.speed }}</div>
              </div>
            </div>
          </div>
          <div class="player-name">{{ g.name }}</div>
        </div>

        {% empty %}
        <p>Nenhum jogador cadastrado.</p>
        {% endfor %}
      </div>
    </div>
  </body>
</html>
